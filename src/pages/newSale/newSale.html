<ion-header>
  <ion-navbar>
    <ion-title>
      {{chollo != null ? "Editar Chollo" : "Nuevo Chollo"}}
    </ion-title>
  </ion-navbar>
</ion-header>
<ion-content padding id="page6">
  <form id="newSale-form3">
    <ion-item id="newSale-input2">
      <ion-label>
        Titulo:
      </ion-label>
      <ion-input #titulo type="text" placeholder="" value="{{chollo != null ? chollo.getTitulo() : ''}}"></ion-input>
    </ion-item>
    <ion-item id="newSale-input3">
      <ion-label>
        Enlace:
      </ion-label>
      <ion-input #enlace type="text" placeholder="" value="{{chollo != null ? chollo.getEnlace() : ''}}"></ion-input>
    </ion-item>
    <ion-item id="newSale-input4">
      <ion-label>
        Descripción:
      </ion-label>
      <ion-input #descripcion type="text" placeholder="" value="{{chollo != null ? chollo.getDescripcion() : ''}}"></ion-input>
    </ion-item>
    <ion-item id="newSale-input5">
      <ion-label>
        Precio antes (€):
      </ion-label>
      <ion-input #precioAntes type="number" placeholder="" value="{{chollo != null ? chollo.getPrecioAntes() : ''}}"></ion-input>
    </ion-item>
    <ion-item id="newSale-input6">
      <ion-label>
        Precio después (€):
      </ion-label>
      <ion-input #precioDespues type="number" placeholder="" value="{{chollo != null ? chollo.getPrecioDespues() : ''}}"></ion-input>
    </ion-item>
    <ion-item id="newSale-input7" [hidden]="usuario.getAdministrador()">
      <ion-label>
        Empresa:
      </ion-label>
      <ion-input #empresaNoPatrocinada type="text" placeholder="" value="{{chollo != null ? chollo.getEmpresaNoPatrocinada() : ''}}"></ion-input>
    </ion-item>
    <ion-item id="newSale-toggle2" [hidden]="!usuario.getAdministrador()">
      <ion-label>
        Empresa patrocinada
      </ion-label>
      <ion-select #empresaPatrocinada color="dark" checked="false" [(ngModel)]="empresaPatrocinadaActual" [ngModelOptions]="{standalone: true}">
        <ion-option value="{{empresaPatrocinada.getId()}}" *ngFor="let empresaPatrocinada of empresasPatrocinadas">{{empresaPatrocinada.getNombre()}}</ion-option>
      </ion-select>
    </ion-item>
    <ion-item id="newSale-toggle3">
      <ion-label>
        Categoría
      </ion-label>
      <ion-select #categoria color="dark" checked="false" [(ngModel)]="categoriaActual" [ngModelOptions]="{standalone: true}">
        <ion-option value="{{categoria.getId()}}" *ngFor="let categoria of categorias">{{categoria.getNombre()}}</ion-option>
      </ion-select>
    </ion-item>
    <div *ngIf="!dataIsCorrect" style="color: red">Rellene todos los campos</div>
  </form>
  <button id="newSale-button6" ion-button color="assertive" block (click)="createSave(titulo.value,enlace.value,descripcion.value,precioAntes.value,precioDespues.value,empresaNoPatrocinada.value,empresaPatrocinada.value,categoria.value)"
   *ngIf="chollo == null">
    Publicar
  </button>
  <button id="newSale-button5" ion-button color="assertive" block (click)="editSave(titulo.value,enlace.value,descripcion.value,precioAntes.value,precioDespues.value,empresaNoPatrocinada.value,empresaPatrocinada.value,categoria.value)"
    *ngIf="chollo != null">
    Editar
  </button>
  <div class="spacer" style="height:40px;" id="spacer1"></div>
  <button id="newSale-button11" ion-button color="dark" block *ngIf="idChollo != undefined" (click)="deleteSave()">
    Eliminar
  </button>
</ion-content>